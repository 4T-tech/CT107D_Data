C51 COMPILER V9.56.0.0   MAIN                                                              01/24/2025 10:54:07 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          // 使用程序前，将J13调整为IO模式（2-3脚短接）
   2          sfr P0 = 0x80;
   3          sfr P2 = 0xA0;
   4          // P0输出: ucData――数据，ucAddr――地址（4~7）
   5          void P0_Out(unsigned char ucData, unsigned char ucAddr)
   6          {
   7   1        P0 = ucData;                        // P0输出数据
   8   1        P2 |= ucAddr << 5;                  // 置位P27~P25
   9   1        P2 &= 0x1f;                         // 复位P27~P25
  10   1      //XBYTE[ucAddr << 13] = ucData;       // MM模式（J13-2和J13-1相连）
  11   1      }
  12          // 关闭外设
  13          void Close_Peripheral(void)
  14          {
  15   1        P2 &= 0x1f;                         // 复位P27~P25
  16   1        P0_Out(0xff, 4);                    // 熄灭LED
  17   1        P0_Out(~0x50, 5);                   // 关闭继电器和蜂鸣器
  18   1      }
  19          // LED显示
  20          void Led_Disp(unsigned char ucLed)
  21          {
  22   1        P0_Out(~ucLed, 4);                  // LED显示
  23   1      }
  24          // 延时函数（最小约1ms@12MHz）
  25          void Delay(unsigned int uiNum)
  26          {
  27   1        unsigned int i;
  28   1      
  29   1        while (uiNum--)
  30   1          for (i=0; i<628; i++);
  31   1      }
  32          // 主函数
  33          void main(void)
  34          {
  35   1        unsigned char i, j;
  36   1        Close_Peripheral();
  37   1      
  38   1        while (1)
  39   1        { // 4个亮度等级
  40   2          for (i=0; i<4; i++)
  41   2            for (j=0; j<64; j++)
  42   2            {
  43   3              Led_Disp(0xff);               // L1~L8点亮
  44   3              Delay(i+1);                   // 延时时间依次是1ms、2ms、3ms和4ms
  45   3              Led_Disp(0);                  // L1~L8熄灭
  46   3              Delay(4-i);                   // 延时时间依次是4ms、3ms、2ms和1ms
  47   3            }
  48   2        }
  49   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    118    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V9.56.0.0   MAIN                                                              01/24/2025 10:54:07 PAGE 2   

   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
